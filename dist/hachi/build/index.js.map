{"version":3,"sources":["index.js"],"names":["build","dir","config","pagesMapDir","mappedPages","entrypoints","console","log","webpackConfigs","Promise","all","target"],"mappings":"2DAAA,gEACA,8BAIA,kCACA,uE,mFAEe,cAAeA,CAAAA,KAAf,CAAqBC,GAArB,CAA0B,CACrC,KAAMC,CAAAA,MAAM,CAAG,oBAAWD,GAAX,CAAf,CACA,KAAME,CAAAA,WAAW,CAAG,2BAAgBF,GAAhB,CAApB,CACA,KAAMG,CAAAA,WAAW,CAAG,KAAM,wBAAaD,WAAb,CAA1B,CACA,KAAME,CAAAA,WAAW,CAAG,+BAAkB,KAAlB,CAAyBD,WAAzB,CAAsC,QAAtC,CAAgDF,MAAhD,CAApB,CACAI,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,WAA3B,EAEA,KAAMG,CAAAA,cAAc,CAAG,KAAMC,CAAAA,OAAO,CAACC,GAAR,CAAY,CACrC,2BAAqBT,GAArB,CAA0B,CAACC,MAAD,CAASS,MAAM,CAAE,QAAjB,CAA2BN,WAA3B,CAA1B,CADqC,CAErC,2BAAqBJ,GAArB,CAA0B,CAACC,MAAD,CAASS,MAAM,CAAE,QAAjB,CAA2BN,WAA3B,CAA1B,CAFqC,CAAZ,CAA7B,CAIAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BC,cAA9B,EAGH","sourcesContent":["import loadConfig from '../server/config';\nimport {\n    findPagesMapDir,\n    collectPages\n} from './utils'\nimport { createEntrypoints } from './entries';\nimport getBaseWebpackConfig from './webpack-config';\n\nexport default async function build(dir) {\n    const config = loadConfig(dir);\n    const pagesMapDir = findPagesMapDir(dir);\n    const mappedPages = await collectPages(pagesMapDir);\n    const entrypoints = createEntrypoints(false, mappedPages, 'server', config);\n    console.log('entrypoints', entrypoints);\n\n    const webpackConfigs = await Promise.all([\n        getBaseWebpackConfig(dir, {config, target: 'server', entrypoints}),\n        getBaseWebpackConfig(dir, {config, target: 'client', entrypoints})\n    ])\n    console.log('webpackConfigs', webpackConfigs);\n    \n    \n}"]}