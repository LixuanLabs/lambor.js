{"version":3,"sources":["build.js"],"names":["hachiBuild","argv","args","Boolean","console","log","dir","_","then","process","exit","catch","err","error"],"mappings":"AAAA;4DACA,sBACA,gDACA,0BAEA,uDACA,mC,mFAEA,KAAMA,CAAAA,UAAU,CAAIC,IAAD,EAAU,CAC3B,KAAMC,CAAAA,IAAI,CAAG,iBACX,CACE;AACA,SAAUC,OAFZ,CAGE;AACA,KAAM,QAJR,CADW,CAOX,CAAEF,IAAF,CAPW,CAAb,CAUA,GAAIC,IAAI,CAAC,QAAD,CAAR,CAAoB,CAClB,wBACG;;;;;;;;;KADH,CAWE,CAXF,EAaD,CACDE,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBJ,IAApB,EAEAG,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BH,IAA9B,EAGA,KAAMI,CAAAA,GAAG,CAAG,kBAAQJ,IAAI,CAACK,CAAL,CAAO,CAAP,GAAa,GAArB,CAAZ,CAEA;AACA,GAAI,CAAC,mBAAWD,GAAX,CAAL,CAAsB,CACpB,wBAAc,mDAAkDA,GAAI,EAApE,EACD,CAED,mBAAMA,GAAN,EACGE,IADH,CACQ,IAAMC,OAAO,CAACC,IAAR,CAAa,CAAb,CADd,EAEGC,KAFH,CAEUC,GAAD,EAAS,CACdR,OAAO,CAACS,KAAR,CAAc,EAAd,EACAT,OAAO,CAACS,KAAR,CAAc,wBAAd,EACA,wBAAaD,GAAb,EACD,CANH,EAOD,CA7CD,C,aA+CeZ,U","sourcesContent":["#!/usr/bin/env node\nimport { existsSync } from 'fs'\nimport arg from 'arg'\nimport { resolve } from 'path'\n\nimport build from '../build'\nimport { printAndExit } from '../lib/utils'\n\nconst hachiBuild = (argv) => {\n  const args = arg(\n    {\n      // Types\n      '--help': Boolean,\n      // Aliases\n      '-h': '--help',\n    },\n    { argv }\n  )\n\n  if (args['--help']) {\n    printAndExit(\n      `\n      Description\n        Compiles the application for production deployment\n\n      Usage\n        $ next build <dir>\n\n      <dir> represents the directory of the Next.js application.\n      If no directory is provided, the current directory will be used.\n    `,\n      0\n    )\n  }\n  console.log('argv', argv);\n  \n  console.log('build args===>', args);\n  \n\n  const dir = resolve(args._[0] || '.')\n\n  // Check if the provided directory exists\n  if (!existsSync(dir)) {\n    printAndExit(`> No such directory exists as the project root: ${dir}`)\n  }\n\n  build(dir)\n    .then(() => process.exit(0))\n    .catch((err) => {\n      console.error('')\n      console.error('> Build error occurred')\n      printAndExit(err)\n    })\n}\n\nexport default hachiBuild\n"]}