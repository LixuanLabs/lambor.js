{"version":3,"sources":["build.js"],"names":["haBuild","argv","args","Boolean","dir","_","dev","then","process","exit","catch","err","console","error"],"mappings":"AAAA;4DACA,sBACA,gDACA,0BAEA,uDACA,mC,mFAEA,KAAMA,CAAAA,OAAO,CAAIC,IAAD,EAAU,CACxB,KAAMC,CAAAA,IAAI,CAAG,iBACX,CACE;AACA,SAAUC,OAFZ,CAGE;AACA,KAAM,QAJR,CADW,CAOX,CAAEF,IAAF,CAPW,CAAb,CAUA,GAAIC,IAAI,CAAC,QAAD,CAAR,CAAoB,CAClB,wBACG;;;;;;;KADH,CASE,CATF,EAWD,CAGD,KAAME,CAAAA,GAAG,CAAG,kBAAQF,IAAI,CAACG,CAAL,CAAO,CAAP,GAAa,GAArB,CAAZ,CACA;AACA,GAAI,CAAC,mBAAWD,GAAX,CAAL,CAAsB,CACpB,wBAAc,mDAAkDA,GAAI,EAApE,EACD,CACD,mBAAMA,GAAN,CAAW,CAAEE,GAAG,CAAE,KAAP,CAAX,EACGC,IADH,CACQ,IAAMC,OAAO,CAACC,IAAR,CAAa,CAAb,CADd,EAEGC,KAFH,CAEUC,GAAD,EAAS,CACdC,OAAO,CAACC,KAAR,CAAc,EAAd,EACAD,OAAO,CAACC,KAAR,CAAc,wBAAd,EACA,wBAAaF,GAAb,EACD,CANH,EAOD,CAtCD,C,aAwCeX,O","sourcesContent":["#!/usr/bin/env node\nimport { existsSync } from 'fs'\nimport arg from 'arg'\nimport { resolve } from 'path'\n\nimport build from '../build'\nimport { printAndExit } from '../lib/utils'\n\nconst haBuild = (argv) => {\n  const args = arg(\n    {\n      // Types\n      '--help': Boolean,\n      // Aliases\n      '-h': '--help',\n    },\n    { argv }\n  )\n\n  if (args['--help']) {\n    printAndExit(\n      `\n      Description\n        Compiles the application for production deployment\n\n      Usage\n        $ xrd build <dir>\n\n    `,\n      0\n    )\n  }\n  \n\n  const dir = resolve(args._[0] || '.')\n  // Check if the provided directory exists\n  if (!existsSync(dir)) {\n    printAndExit(`> No such directory exists as the project root: ${dir}`)\n  }\n  build(dir, { dev: false })\n    .then(() => process.exit(0))\n    .catch((err) => {\n      console.error('')\n      console.error('> Build error occurred')\n      printAndExit(err)\n    })\n}\n\nexport default haBuild\n"]}