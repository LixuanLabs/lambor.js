{"version":3,"sources":["start.js"],"names":["haStart","argv","args","Boolean","Number","String","console","log","process","exit","dir","_","port","then","app","catch","err","error"],"mappings":"AAAA;4DAEA,0BACA,gDACA,2E,mFAEA,KAAMA,CAAAA,OAAO,CAAIC,IAAD,EAAU,CACxB,KAAMC,CAAAA,IAAI,CAAG,iBACX,CACE;AACA,SAAUC,OAFZ,CAGE,SAAUC,MAHZ,CAIE,aAAcC,MAJhB,CAME;AACA,KAAM,QAPR,CAQE,KAAM,QARR,CASE,KAAM,YATR,CADW,CAYX,CAAEJ,IAAF,CAZW,CAAb,CAeA,GAAIC,IAAI,CAAC,QAAD,CAAR,CAAoB,CAClB;AACAI,OAAO,CAACC,GAAR,CAAa;;;;;;;;;;KAAb,EAWAC,OAAO,CAACC,IAAR,CAAa,CAAb,EACD,CAED,KAAMC,CAAAA,GAAG,CAAG,kBAAQR,IAAI,CAACS,CAAL,CAAO,CAAP,GAAa,GAArB,CAAZ,CACA,KAAMC,CAAAA,IAAI,CAAGV,IAAI,CAAC,QAAD,CAAJ,EAAkB,IAA/B,CACA,yBAAY,CAAEQ,GAAF,CAAZ,CAAqBE,IAArB,CAA2BV,IAAI,CAAC,YAAD,CAA/B,EACGW,IADH,CACQ,KAAOC,CAAAA,GAAP,EAAe,CACnB;AACAR,OAAO,CAACC,GAAR,CACG,4BAA2BL,IAAI,CAAC,YAAD,CAAJ,EAAsB,WAAY,IAAGU,IAAK,EADxE,EAGD,CANH,EAOGG,KAPH,CAOUC,GAAD,EAAS,CACd;AACAV,OAAO,CAACW,KAAR,CAAcD,GAAd,EACAR,OAAO,CAACC,IAAR,CAAa,CAAb,EACD,CAXH,EAYD,CA9CD,C,aAgDeT,O","sourcesContent":["#!/usr/bin/env node\n\nimport { resolve } from 'path'\nimport arg from 'arg'\nimport startServer from '../server/start-server'\n\nconst haStart = (argv) => {\n  const args = arg(\n    {\n      // Types\n      '--help': Boolean,\n      '--port': Number,\n      '--hostname': String,\n\n      // Aliases\n      '-h': '--help',\n      '-p': '--port',\n      '-H': '--hostname',\n    },\n    { argv }\n  )\n\n  if (args['--help']) {\n    // tslint:disable-next-line\n    console.log(`\n    Description\n      Starts the application in production mode.\n      The application should be compiled with \\`ha build\\` first.\n\n    Usage\n      $ ha start\n\n    Options\n      --port, -p      A port number on which to start the application\n    `)\n    process.exit(0)\n  }\n\n  const dir = resolve(args._[0] || '.')\n  const port = args['--port'] || 3000\n  startServer({ dir }, port, args['--hostname'])\n    .then(async (app) => {\n      // tslint:disable-next-line\n      console.log(\n        `started server on http://${args['--hostname'] || 'localhost'}:${port}`\n      )\n    })\n    .catch((err) => {\n      // tslint:disable-next-line\n      console.error(err)\n      process.exit(1)\n    })\n}\n\nexport default haStart;\n"]}